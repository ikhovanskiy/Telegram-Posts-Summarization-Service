<script lang="ts">
	import { goto } from '$app/navigation';
	import { onMount } from 'svelte';

	let isAuthenticated = false;

	onMount(() => {
		const userId = localStorage.getItem('userId');
		isAuthenticated = !!userId;
	});

	function handleAuth() {
		goto('/auth');
	}

	function handleScenarios() {
		goto('/scenarios');
	}
</script>

<svelte:head>
	<title>–°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ Telegram</title>
	<link rel="stylesheet" href="/styles/app.css" />
</svelte:head>

<div class="container">
	<h1>üìä –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ Telegram</h1>

	<div class="container-sm">
		<p>
			–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫—Ä–∞—Ç–∫–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã –∏–∑ –ø–æ—Å—Ç–æ–≤ –≤–∞—à–∏—Ö Telegram-–≥—Ä—É–ø–ø —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
			–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.
		</p>

		{#if isAuthenticated}
			<button on:click={handleScenarios} class="btn btn-primary btn-block">
				–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å—Ü–µ–Ω–∞—Ä–∏—è–º
			</button>
		{:else}
			<button on:click={handleAuth} class="btn btn-primary btn-block">
				–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
			</button>
		{/if}
	</div>
</div>